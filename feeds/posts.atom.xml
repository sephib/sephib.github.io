<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Geo Berry - posts</title><link href="https://sephib.github.io/" rel="alternate"></link><link href="https://sephib.github.io/feeds/posts.atom.xml" rel="self"></link><id>https://sephib.github.io/</id><updated>2021-01-24T00:00:00+02:00</updated><subtitle>Data Engineer | Project Manager | Geo-Spatial Specialist</subtitle><entry><title>Design patterns in ML and MLops</title><link href="https://sephib.github.io/design-patterns-in-ml-and-mlops.html" rel="alternate"></link><published>2021-01-24T00:00:00+02:00</published><updated>2021-01-24T00:00:00+02:00</updated><author><name>Sephi Berry</name></author><id>tag:sephib.github.io,2021-01-24:/design-patterns-in-ml-and-mlops.html</id><summary type="html">&lt;p&gt;Design patterns in MLops, pipelines are core for a successful project&lt;/p&gt;</summary><content type="html">&lt;!-- status: draft --&gt;

&lt;p&gt;&lt;img src="https://images-na.ssl-images-amazon.com/images/I/51pSVhMRMkL._SX379_BO1,204,203,200_.jpg" alt="ML Design Patterns" height="500" href="https://www.oreilly.com/library/view/machine-learning-design/9781098115777/" /&gt;  &lt;/p&gt;
&lt;p&gt;Listening to &lt;a href="https://www.linkedin.com/in/sara-robinson-40377924/"&gt;Sara Robinson&lt;/a&gt;, the "Machine Learning Design Patterns" book co-author, on the &lt;a href="https://podcastaddict.com/episode/117142559"&gt;MLOps.community podcast&lt;/a&gt;, raises some issues related to our growing industry in ML/AI in general and specifically in Data Engineering realm. Although I have not yet read the book, I'm allowing myself to reflect on what I understood from the episode. There are many issues discussed in the book, fortunately they decided to speak about &lt;em&gt;Workflow Pipelines&lt;/em&gt; (chapter 25), which is dear to my heart - since I believe that it is a key element for successful ML projects.&lt;/p&gt;
&lt;p&gt;As an industry, we are still evolving and best practices are still emerging. Saying that - there are many simple solutions and practices from project management and software development that can easily put an ML project on the right track. Identifying the business values that are currently most relevant are a key component when understanding the various trade offs in the engineering processes.&lt;/p&gt;
&lt;p&gt;We too enjoy the flexibility of jupyter notebooks, but I disagree with the what Sara said about when to transition from a jupyter notebook to a more structure pipeline. Working methodologically with templates and clear inputs and outputs for each notebook should be implemented from day one. Breaking up notebooks for each step and writing down the logical stages in a markdown file is a key component for saving time and for successful collaboration with any team member. This is even true for yourself - there is nothing better then returning after a weekend to a project and getting up running within a few minutes.  &lt;/p&gt;
&lt;p&gt;Reproducibility is another key component in any ML project. &lt;a href="https://mlflow.org"&gt;MLflow&lt;/a&gt; is our framework choice for tracking our experiments, which is mentioned as a tool for creating pipelines. However putting &lt;code&gt;MLflow&lt;/code&gt; with &lt;code&gt;Airflow&lt;/code&gt; as the same solution for &lt;code&gt;Workflow Pipeline&lt;/code&gt; (page 284) doesn't seem right.&lt;br&gt;
In the book they sate that the following stages make up for ML Pipeline:&lt;br&gt;
1. Data Collection&lt;br&gt;
2. Data Validation&lt;br&gt;
3. Data Processing&lt;br&gt;
4. Model Building&lt;br&gt;
5. Training &amp;amp; Evaluating&lt;br&gt;
6. Model Deployment  &lt;/p&gt;
&lt;p&gt;While &lt;code&gt;MLflow&lt;/code&gt; may be best suited for steps 4-6, &lt;code&gt;Airflow&lt;/code&gt; is probably best suited for steps 1-3. 
Here I think it is worth while pointing out that there are considerable differences between:&lt;br&gt;
1. Workflow Pipeline (e.g. as described in this chapter - containerizing is the key issue here) &lt;br&gt;
2. Data Pipeline (e.g Airflow or &lt;a href="https://dagster.io/"&gt;Dagster&lt;/a&gt;)&lt;br&gt;
3. Model Pipeline (e.g. &lt;a href="https://scikit-learn.org/stable/modules/generated/sklearn.pipeline.Pipeline.html"&gt;scikit-learn pipeline&lt;/a&gt;)&lt;br&gt;
4. ML Tracking Pipeline (e.g. experiment tracking - &lt;a href="https://mlflow.org/docs/latest/tracking.html"&gt;MLflow Tracking&lt;/a&gt; )   &lt;/p&gt;
&lt;p&gt;(a full write up will be in a future blog).&lt;br&gt;
I think there are considerable differences between these pipelines, and putting them together is confusing. Additional information about the complex landscape can be read from a blog post &lt;a href="https://a16z.com/2020/10/15/the-emerging-architectures-for-modern-data-infrastructure/"&gt;Emerging Architectures for Modern Data Infrastructure&lt;/a&gt; by Matt Bornstein, Martin Casado, and Jennifer Li.&lt;/p&gt;
&lt;p&gt;Finally, I totally agree with the excitement that was conveyed by the participant with the understanding that the MLops field is still growing in many directions and understanding that part of the attraction in the field is that we are able to experiment with different methodologies while learning new libraries and designs as we mature the industry. &lt;/p&gt;</content><category term="posts"></category><category term="python mlops"></category></entry><entry><title>My 2cents worth after reviewing an academic project</title><link href="https://sephib.github.io/my-2cents-worth-after-reviewing-an-academic-project.html" rel="alternate"></link><published>2020-12-21T00:00:00+02:00</published><updated>2020-12-21T00:00:00+02:00</updated><author><name>Sephi Berry</name></author><id>tag:sephib.github.io,2020-12-21:/my-2cents-worth-after-reviewing-an-academic-project.html</id><summary type="html">&lt;p&gt;My 2cents after reviewing an academic project&lt;/p&gt;</summary><content type="html">&lt;h1&gt;Background&lt;/h1&gt;
&lt;p&gt;Recently we had a completion of an R&amp;amp;D project with a prominent university. Although the results of the project were insightful and possibly applicable to our organization, the workflow that the academic R&amp;amp;D team used seemed inadequate.   &lt;/p&gt;
&lt;p&gt;In this post, I wish to highlight some simple steps that can assist in running Data Science (DS) projects (from the initiation until the deployment) by DS teams, especially those working without the support of specialized tools.  &lt;/p&gt;
&lt;p&gt;I'm not going to go into the Project Management aspects but rather some tools and tips for any DS project.&lt;/p&gt;
&lt;h1&gt;Setup&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Using &lt;img src="https://miro.medium.com/max/1200/1*wfMxroB_sHsx06lrreeKew.png" alt="drawing" height="30" href="https://cookiecutter.readthedocs.io/en/latest/installation.html" /&gt;  for project structure.  &lt;/p&gt;
&lt;p&gt;Although this team included MSc. and PhD. students who are running multiple collaborative projects, they did not have a convention for a DS project structure. While reviewing the deliverables we needed to contact several team members in order to find a specific file. Working with a known template allows all team members to save files easily in designated folders and readily locate files from any project.&lt;br&gt;
The template that is used is not really the issue - we use this &lt;a href="(https://drivendata.github.io/cookiecutter-data-science/)"&gt;Data Science&lt;/a&gt; template, which sometimes is an "overkill" for  simple projects, but normally most of the structure is used.  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Using &lt;img src="https://camo.githubusercontent.com/6eaaae8defc78f268eaf0824350a66a1dfcb6aa77210d3dca069d1d1cefebc53/68747470733a2f2f6769742d73636d2e636f6d2f696d616765732f6c6f676f732f646f776e6c6f6164732f4769742d4c6f676f2d32436f6c6f722e706e67" alt="drawing" height="40" href="https://git-scm.com/"/&gt;  (!@$#%)  &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Yes - still in the year 2020 - teams run projects without a version control system! The entire project was offline - so the team thought that they did not need one. How difficult is it to &lt;a href="https://www.linux.com/training-tutorials/how-run-your-own-git-server/"&gt;set up a local git server&lt;/a&gt;? Although we did not have a failing disc, we did lose a specific file that somehow went missing...&lt;/p&gt;
&lt;h1&gt;Running&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;CI/CD (low-tech  solution) &lt;br&gt;
   This one is a bit more tricky.  CI/CD is a "must" these days for companies who are shipping a product, but what about for a &lt;code&gt;Data Science&lt;/code&gt; team? This is even more challenging when using &lt;code&gt;Jupyter Notebooks&lt;/code&gt; that are not "git friendly".&lt;br&gt;
   Recently our team decided on a simple CI/CD for our  - which include a &lt;code&gt;kernel restart run all cells&lt;/code&gt;. This solution allows for picking up any notebook and  knowing that what ever is inside the notebook, and can run without any errors.&lt;br&gt;
   We supplement this solution with the following procedures:   &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Removing functions into a separate  &lt;code&gt;.py&lt;/code&gt; file, leaving the notebook clean and more readable. &lt;/li&gt;
&lt;li&gt;Separating &lt;strong&gt;each&lt;/strong&gt; notebook as a single step in the analysis pipeline. &lt;/li&gt;
&lt;li&gt;Complement a set of notebooks with a &lt;code&gt;README&lt;/code&gt; file describing the general process and specifically the data input/output files.  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Once the project is mature you can upgrade the pipeline into a designated framework such as &lt;a href="https://dagster.io/"&gt;dagster&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Monitoring experiments&lt;br&gt;
   As scientists - experimentation and failures are part of our daily life. Working in a systematic manner allows for confidence in the results and for reproducible science.  Stating that &lt;em&gt;"we checked the various parameters and these values were the best"&lt;/em&gt; is not the best practice unless these can be easily reviewed and reproduced. &lt;br&gt;
   Running &lt;code&gt;print&lt;/code&gt; statements without a central &lt;code&gt;logging&lt;/code&gt; module is also very problematic. Just being able to run the exact same code and get similar logs is very beneficial for understanding how the project runs etc.    &lt;br&gt;
   During the past years, there are many platform/frameworks that have been developed for managing solutions for ML projects. We have settled on &lt;a href="https://mlflow.org"&gt;MLFlow&lt;/a&gt;, which allows for ease of installation and use even in an offline environment. &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;Summary&lt;/h1&gt;
&lt;p&gt;There are many constraints when running a project. However, some minimal infrastructure can get you a long way. Working without any guidelines will normally lead to chaos and inefficiency, while, at the same time, lowering the quality level of the science and of the project.&lt;br&gt;
Today, &lt;code&gt;MLOps&lt;/code&gt; and &lt;code&gt;DataOps&lt;/code&gt; tools and guidelines are constantly being developed, so I'm sure we will see ease of use and improvements in the coming years. &lt;/p&gt;</content><category term="posts"></category><category term="python data_analysis"></category></entry><entry><title>Panel Dashboard in action</title><link href="https://sephib.github.io/panel-dashboard.html" rel="alternate"></link><published>2020-07-26T20:00:00+03:00</published><updated>2020-07-26T20:00:00+03:00</updated><author><name>Sephi Berry David Katz</name></author><id>tag:sephib.github.io,2020-07-26:/panel-dashboard.html</id><summary type="html">&lt;p&gt;How we used Panel to monitor Dagster's assets.&lt;/p&gt;</summary><content type="html">&lt;style type="text/css"&gt;/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI escape sequences */
/* The color values are a mix of
   http://www.xcolors.net/dl/baskerville-ivorylight and
   http://www.xcolors.net/dl/euphrasia */
.ansi-black-fg {
  color: #3E424D;
}
.ansi-black-bg {
  background-color: #3E424D;
}
.ansi-black-intense-fg {
  color: #282C36;
}
.ansi-black-intense-bg {
  background-color: #282C36;
}
.ansi-red-fg {
  color: #E75C58;
}
.ansi-red-bg {
  background-color: #E75C58;
}
.ansi-red-intense-fg {
  color: #B22B31;
}
.ansi-red-intense-bg {
  background-color: #B22B31;
}
.ansi-green-fg {
  color: #00A250;
}
.ansi-green-bg {
  background-color: #00A250;
}
.ansi-green-intense-fg {
  color: #007427;
}
.ansi-green-intense-bg {
  background-color: #007427;
}
.ansi-yellow-fg {
  color: #DDB62B;
}
.ansi-yellow-bg {
  background-color: #DDB62B;
}
.ansi-yellow-intense-fg {
  color: #B27D12;
}
.ansi-yellow-intense-bg {
  background-color: #B27D12;
}
.ansi-blue-fg {
  color: #208FFB;
}
.ansi-blue-bg {
  background-color: #208FFB;
}
.ansi-blue-intense-fg {
  color: #0065CA;
}
.ansi-blue-intense-bg {
  background-color: #0065CA;
}
.ansi-magenta-fg {
  color: #D160C4;
}
.ansi-magenta-bg {
  background-color: #D160C4;
}
.ansi-magenta-intense-fg {
  color: #A03196;
}
.ansi-magenta-intense-bg {
  background-color: #A03196;
}
.ansi-cyan-fg {
  color: #60C6C8;
}
.ansi-cyan-bg {
  background-color: #60C6C8;
}
.ansi-cyan-intense-fg {
  color: #258F8F;
}
.ansi-cyan-intense-bg {
  background-color: #258F8F;
}
.ansi-white-fg {
  color: #C5C1B4;
}
.ansi-white-bg {
  background-color: #C5C1B4;
}
.ansi-white-intense-fg {
  color: #A1A6B2;
}
.ansi-white-intense-bg {
  background-color: #A1A6B2;
}
.ansi-default-inverse-fg {
  color: #FFFFFF;
}
.ansi-default-inverse-bg {
  background-color: #000000;
}
.ansi-bold {
  font-weight: bold;
}
.ansi-underline {
  text-decoration: underline;
}
/* The following styles are deprecated an will be removed in a future version */
.ansibold {
  font-weight: bold;
}
.ansi-inverse {
  outline: 0.5px dotted;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  position: relative;
  overflow: visible;
}
div.cell:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: transparent;
}
div.cell.jupyter-soft-selected {
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected,
div.cell.selected.jupyter-soft-selected {
  border-color: #ababab;
}
div.cell.selected:before,
div.cell.selected.jupyter-soft-selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #42A5F5;
}
@media print {
  div.cell.selected,
  div.cell.selected.jupyter-soft-selected {
    border-color: transparent;
  }
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
}
.edit_mode div.cell.selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #66BB6A;
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell &gt; div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area &gt; div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area &gt; div.highlight &gt; pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the &lt;head&gt; if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  /* Note that this should set vertical padding only, since CodeMirror assumes
       that horizontal padding will be set on CodeMirror pre */
  padding: 0.4em 0;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. This sets horizontal padding only,
    use .CodeMirror-lines for vertical */
  padding: 0 0.4em;
  border: 0;
  border-radius: 0;
}
.CodeMirror-cursor {
  border-left: 1.4px solid black;
}
@media screen and (min-width: 2138px) and (max-width: 4319px) {
  .CodeMirror-cursor {
    border-left: 2px solid black;
  }
}
@media screen and (min-width: 4320px) {
  .CodeMirror-cursor {
    border-left: 4px solid black;
  }
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev &lt;Maniac@SoftwareManiacs.Org&gt;
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
div.output_area .mglyph &gt; img {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 1px 0 1px 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}
.rendered_html ul:not(.list-inline),
.rendered_html ol:not(.list-inline) {
  padding-left: 2em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}





.rendered_html pre,




.rendered_html tr,
.rendered_html th,


.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,


.rendered_html * + .alert {
  margin-top: 1em;
}
[dir="rtl"] 
div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell &gt; div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.rendered .rendered_html tr,
.text_cell.rendered .rendered_html th,
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.text_cell .dropzone .input_area {
  border: 2px dashed #bababa;
  margin: -1px;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
&lt;/style&gt;
&lt;style type="text/css"&gt;pre { line-height: 125%; }
td.linenos pre { color: #000000; background-color: #f0f0f0; padding-left: 5px; padding-right: 5px; }
span.linenos { color: #000000; background-color: #f0f0f0; padding-left: 5px; padding-right: 5px; }
td.linenos pre.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
 .highlight pre  .hll { background-color: #ffffcc }
 .highlight pre  { background: #f8f8f8; }
 .highlight pre  .c { color: #408080; font-style: italic } /* Comment */
 .highlight pre  .err { border: 1px solid #FF0000 } /* Error */
 .highlight pre  .k { color: #008000; font-weight: bold } /* Keyword */
 .highlight pre  .o { color: #666666 } /* Operator */
 .highlight pre  .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
 .highlight pre  .cm { color: #408080; font-style: italic } /* Comment.Multiline */
 .highlight pre  .cp { color: #BC7A00 } /* Comment.Preproc */
 .highlight pre  .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
 .highlight pre  .c1 { color: #408080; font-style: italic } /* Comment.Single */
 .highlight pre  .cs { color: #408080; font-style: italic } /* Comment.Special */
 .highlight pre  .gd { color: #A00000 } /* Generic.Deleted */
 .highlight pre  .ge { font-style: italic } /* Generic.Emph */
 .highlight pre  .gr { color: #FF0000 } /* Generic.Error */
 .highlight pre  .gh { color: #000080; font-weight: bold } /* Generic.Heading */
 .highlight pre  .gi { color: #00A000 } /* Generic.Inserted */
 .highlight pre  .go { color: #888888 } /* Generic.Output */
 .highlight pre  .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
 .highlight pre  .gs { font-weight: bold } /* Generic.Strong */
 .highlight pre  .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
 .highlight pre  .gt { color: #0044DD } /* Generic.Traceback */
 .highlight pre  .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
 .highlight pre  .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
 .highlight pre  .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
 .highlight pre  .kp { color: #008000 } /* Keyword.Pseudo */
 .highlight pre  .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
 .highlight pre  .kt { color: #B00040 } /* Keyword.Type */
 .highlight pre  .m { color: #666666 } /* Literal.Number */
 .highlight pre  .s { color: #BA2121 } /* Literal.String */
 .highlight pre  .na { color: #7D9029 } /* Name.Attribute */
 .highlight pre  .nb { color: #008000 } /* Name.Builtin */
 .highlight pre  .nc { color: #0000FF; font-weight: bold } /* Name.Class */
 .highlight pre  .no { color: #880000 } /* Name.Constant */
 .highlight pre  .nd { color: #AA22FF } /* Name.Decorator */
 .highlight pre  .ni { color: #999999; font-weight: bold } /* Name.Entity */
 .highlight pre  .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
 .highlight pre  .nf { color: #0000FF } /* Name.Function */
 .highlight pre  .nl { color: #A0A000 } /* Name.Label */
 .highlight pre  .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
 .highlight pre  .nt { color: #008000; font-weight: bold } /* Name.Tag */
 .highlight pre  .nv { color: #19177C } /* Name.Variable */
 .highlight pre  .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
 .highlight pre  .w { color: #bbbbbb } /* Text.Whitespace */
 .highlight pre  .mb { color: #666666 } /* Literal.Number.Bin */
 .highlight pre  .mf { color: #666666 } /* Literal.Number.Float */
 .highlight pre  .mh { color: #666666 } /* Literal.Number.Hex */
 .highlight pre  .mi { color: #666666 } /* Literal.Number.Integer */
 .highlight pre  .mo { color: #666666 } /* Literal.Number.Oct */
 .highlight pre  .sa { color: #BA2121 } /* Literal.String.Affix */
 .highlight pre  .sb { color: #BA2121 } /* Literal.String.Backtick */
 .highlight pre  .sc { color: #BA2121 } /* Literal.String.Char */
 .highlight pre  .dl { color: #BA2121 } /* Literal.String.Delimiter */
 .highlight pre  .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
 .highlight pre  .s2 { color: #BA2121 } /* Literal.String.Double */
 .highlight pre  .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
 .highlight pre  .sh { color: #BA2121 } /* Literal.String.Heredoc */
 .highlight pre  .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
 .highlight pre  .sx { color: #008000 } /* Literal.String.Other */
 .highlight pre  .sr { color: #BB6688 } /* Literal.String.Regex */
 .highlight pre  .s1 { color: #BA2121 } /* Literal.String.Single */
 .highlight pre  .ss { color: #19177C } /* Literal.String.Symbol */
 .highlight pre  .bp { color: #008000 } /* Name.Builtin.Pseudo */
 .highlight pre  .fm { color: #0000FF } /* Name.Function.Magic */
 .highlight pre  .vc { color: #19177C } /* Name.Variable.Class */
 .highlight pre  .vg { color: #19177C } /* Name.Variable.Global */
 .highlight pre  .vi { color: #19177C } /* Name.Variable.Instance */
 .highlight pre  .vm { color: #19177C } /* Name.Variable.Magic */
 .highlight pre  .il { color: #666666 } /* Literal.Number.Integer.Long */&lt;/style&gt;&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h1 id="Simple-Pipeline-Monitoring-Dashboard"&gt;Simple Pipeline Monitoring Dashboard&lt;a class="anchor-link" href="#Simple-Pipeline-Monitoring-Dashboard"&gt;&amp;#182;&lt;/a&gt;&lt;/h1&gt;&lt;p&gt;&lt;img src="images/monitorpostBanner.png" alt="dashboard plot" width="650"&gt;&lt;/p&gt;
&lt;p&gt;These days any project that is deployed should incorporate the principles of CI/CD (highly recommend a &lt;a href="https://www.youtube.com/watch?v=Dx2vG6qmtPs&amp;amp;t=232s"&gt;great talk from Eric Ma&lt;/a&gt; July 2020 - who describes the issue in the realm of &lt;em&gt;Data Science&lt;/em&gt; ).&lt;br&gt;
After setting up our &lt;a href="https://dev.to/sephib/implementing-a-graph-network-pipeline-with-dagster-3i3a"&gt;dagster pipeline&lt;/a&gt;, we needed to implement some sort monitoring solution to review the outcome of our workflow. Working in a small DS team we had to push forward and couldn't wait for the &lt;em&gt;heavy guns&lt;/em&gt; of the enterprise IT to take over. So until we have their support, here is a simple dashboard that we have put together to monitor our &lt;code&gt;Assets&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;In this blog post we describe how we have created a functional dashboard based on python widgets.&lt;br&gt;
We describe the origin of our data, followed by our solution using python's &lt;a href="https://panel.holoviz.org/"&gt;Panel&lt;/a&gt; library.&lt;/p&gt;
&lt;p&gt;&lt;img src="images/dashboard_plot.png" alt="dashboard plot" width="650"&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Dagster-Assets"&gt;Dagster Assets&lt;a class="anchor-link" href="#Dagster-Assets"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We are not going to dive into &lt;a href="https://docs.dagster.io/"&gt;Dagster&lt;/a&gt; (see  previous &lt;a href="https://dev.to/sephib/implementing-a-graph-network-pipeline-with-dagster-3i3a"&gt;blog post on our data pipeline&lt;/a&gt;), but the TLDR  is that Dagster is an orchestration framework for building modern data applications and workflows. The framework has integrated logging and the ability to &lt;a href="https://docs.dagster.io/overview/asset-materializations#materializing-an-asset"&gt;produce persistent assets&lt;/a&gt; that are stored in a database (in our case &lt;em&gt;postgresql&lt;/em&gt;) for future references.&lt;br&gt;
For our project we are interested in monitoring the number of nodes and edges that we generate in our data pipline workflow. During our &lt;em&gt;pipeline run&lt;/em&gt; we log (or in the Dagster's jargon &lt;code&gt;Materialize&lt;/code&gt; - see &lt;a href="https://docs.dagster.io/examples/materializations#main"&gt;AssetMaterialization in the documentation&lt;/a&gt;) various stats on the datasets that we whish to  manipulate. We would like to view the changes of these stats over time in order to verify the "health" of our system/pipeline.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Panel-widgets"&gt;Panel widgets&lt;a class="anchor-link" href="#Panel-widgets"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Today, the python ecosystem is very rich and vibrant with various visualization libraries that are constantly being developed. Two of the libraries that we reviewed were &lt;a href="https://www.streamlit.io/"&gt;streamlit&lt;/a&gt; and &lt;a href="https://panel.holoviz.org/"&gt;Panel&lt;/a&gt;. We decided to go with Panel which seemed to suit our needs (due mainly to its structure and maintenance from our side).&lt;br&gt;
Inspired by a talk given by  &lt;a href="https://www.youtube.com/watch?v=Un30yb1WlpU&amp;amp;feature=youtu.be"&gt;Lina Weichbrodt in the MLOps meetup&lt;/a&gt;,  we wanted to view the percent change of our metrics over time.&lt;/p&gt;
&lt;p&gt;Panel is capable of displaying and integrating many python widgets from various packages. We are going to work with hvplot which best fits our needs, due to its richness and its integration with Pandas.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Getting-our-data/assets-from-the-database"&gt;Getting our data/assets from the database&lt;a class="anchor-link" href="#Getting-our-data/assets-from-the-database"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;In this section we describe how we extracted the data from &lt;code&gt;Dagster's Asset&lt;/code&gt; database. If this is not relevant, you may want to jump to the sample data section below.&lt;br&gt;
In order to access the &lt;code&gt;Asset&lt;/code&gt; data we needed to dig into the &lt;code&gt;event_log&lt;/code&gt; table which logs all the events that are generated when running a Dagster pipeline. The script to extracts the data into a Pandas Dataframe, based on the &lt;code&gt;Asset Keys&lt;/code&gt; that are defined in the &lt;code&gt;Materialization&lt;/code&gt; process, is in the [linked repo].&lt;/p&gt;
&lt;p&gt;Here are the key elements in the script:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;In order to access the assets we need to query the &lt;code&gt;event_logs&lt;/code&gt; table. We can use a &lt;code&gt;sqlalchemy&lt;/code&gt; query as follows:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;select([t_event_logs.c.event]).where(t_event_logs.c.asset&lt;em&gt;key.in&lt;/em&gt;(assets))&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;For parsing the results we can use &lt;code&gt;dagster's&lt;/code&gt; internal utility &lt;code&gt;deserialize_json_to_dagster_namedtuple&lt;/code&gt;. Bellow is the function that converts the assets into a dictionary. Please note that we are only retrieving assets of a numeric type (which can be plotted). This is parallel to &lt;code&gt;dagit's&lt;/code&gt; decision to display only asset numeric values in a graphs.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code&gt;def get_asset_keys_values(results)-&amp;gt;dict:
    assets={}
    for result in results:
        dagster_namedtuple = deserialize_json_to_dagster_namedtuple(result[0])
        time_stamp = datetime.fromtimestamp(dagster_namedtuple.timestamp).strftime('%Y-%m-%d %H:%M:%S')
        assets[time_stamp] = {}        
        assets[time_stamp]['asset_key'] = dagster_namedtuple.dagster_event.asset_key.to_string()
        from entry in dagster_namedtuple.dagster_event.event_specific_data.materialization.metadata_entries:
            if isinstance(entry.entry_data, FloatMetadataEntryData):  # Only assets that are numerical
                assets[time_stamp][entry.label] = entry.entry_data.value
    return assets&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The full code for retrieving the data is in &lt;a href="https://github.com/sephib/dagster-graph-project/blob/master/src/get_dagset_assets.py"&gt;src/get_dagster_asset.py&lt;/a&gt; file.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Sample-Data"&gt;Sample Data&lt;a class="anchor-link" href="#Sample-Data"&gt;&amp;#182;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;For the dashboard in this post, we are going to use the sample data from bokeh.&lt;/p&gt;
&lt;p&gt;Since we are simulating our datapipline outcomes we are going to use a sample of the columns:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;date - as our X / time axis&lt;/li&gt;
&lt;li&gt;Temperature   &lt;/li&gt;
&lt;li&gt;Humidity  &lt;/li&gt;
&lt;li&gt;Light &lt;/li&gt;
&lt;li&gt;CO2&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Let's view the data&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[5]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read_csv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;../data/raw/panel-dashboard-dagster/datatest.txt&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;date&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;date&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;astype&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;datetime64[ns]&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;cols&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Temperature&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Humidity&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Light&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;CO2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;date&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;cols&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tail&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[5]:&lt;/div&gt;



&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;style scoped&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border="1" class="dataframe"&gt;
  &lt;thead&gt;
    &lt;tr style="text-align: right;"&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;date&lt;/th&gt;
      &lt;th&gt;Temperature&lt;/th&gt;
      &lt;th&gt;Humidity&lt;/th&gt;
      &lt;th&gt;Light&lt;/th&gt;
      &lt;th&gt;CO2&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;2802&lt;/th&gt;
      &lt;td&gt;2015-02-04 10:40:59&lt;/td&gt;
      &lt;td&gt;24.330000&lt;/td&gt;
      &lt;td&gt;25.700000&lt;/td&gt;
      &lt;td&gt;817.0&lt;/td&gt;
      &lt;td&gt;1125.8&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2803&lt;/th&gt;
      &lt;td&gt;2015-02-04 10:41:59&lt;/td&gt;
      &lt;td&gt;24.356667&lt;/td&gt;
      &lt;td&gt;25.700000&lt;/td&gt;
      &lt;td&gt;813.0&lt;/td&gt;
      &lt;td&gt;1123.0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2804&lt;/th&gt;
      &lt;td&gt;2015-02-04 10:43:00&lt;/td&gt;
      &lt;td&gt;24.408333&lt;/td&gt;
      &lt;td&gt;25.681667&lt;/td&gt;
      &lt;td&gt;798.0&lt;/td&gt;
      &lt;td&gt;1124.0&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Since we are interested in the change of the various stats with time we can use Panda's &lt;a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.pct_change.html"&gt;pct_change&lt;/a&gt; method to generate the values that we need.  This also allows displaying all the datasets in the same graph since the nominal values of the various datasets are of different orders of magnitude.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[6]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;cols&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;cols&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pct_change&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;date&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;cols&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tail&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[6]:&lt;/div&gt;



&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;style scoped&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border="1" class="dataframe"&gt;
  &lt;thead&gt;
    &lt;tr style="text-align: right;"&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;date&lt;/th&gt;
      &lt;th&gt;Temperature&lt;/th&gt;
      &lt;th&gt;Humidity&lt;/th&gt;
      &lt;th&gt;Light&lt;/th&gt;
      &lt;th&gt;CO2&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;2802&lt;/th&gt;
      &lt;td&gt;2015-02-04 10:40:59&lt;/td&gt;
      &lt;td&gt;0.000000&lt;/td&gt;
      &lt;td&gt;-0.001399&lt;/td&gt;
      &lt;td&gt;0.008891&lt;/td&gt;
      &lt;td&gt;-0.003011&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2803&lt;/th&gt;
      &lt;td&gt;2015-02-04 10:41:59&lt;/td&gt;
      &lt;td&gt;0.001096&lt;/td&gt;
      &lt;td&gt;0.000000&lt;/td&gt;
      &lt;td&gt;-0.004896&lt;/td&gt;
      &lt;td&gt;-0.002487&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2804&lt;/th&gt;
      &lt;td&gt;2015-02-04 10:43:00&lt;/td&gt;
      &lt;td&gt;0.002121&lt;/td&gt;
      &lt;td&gt;-0.000713&lt;/td&gt;
      &lt;td&gt;-0.018450&lt;/td&gt;
      &lt;td&gt;0.000890&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Now that we have the data we can build our dashboard&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Dashboard"&gt;Dashboard&lt;a class="anchor-link" href="#Dashboard"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We have 2 widgets that we want to use in our dashboard:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;A line plot -  displaying the datasets&lt;br&gt;
1.1. A scatter plot - adding markers to the line plot &lt;/li&gt;
&lt;li&gt;A date_range_slider widget - presenting the date range that we want to display  &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Our dashboard will display each data series along the X time axis.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="DateRangeSlider"&gt;DateRangeSlider&lt;a class="anchor-link" href="#DateRangeSlider"&gt;&amp;#182;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Panel's &lt;a href="https://panel.holoviz.org/reference/widgets/DateRangeSlider.html"&gt;DateRangeSlider&lt;/a&gt; widget "allows selecting a date range using a slider with two handles".&lt;/p&gt;
&lt;p&gt;The parameters of the widget are self-explanitory&lt;br&gt;
Please not that the &lt;code&gt;value&lt;/code&gt; parameter is for the default values of the DateRangeSlider, which consists of the start..end of the slider.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;date_range_slider = pn.widgets.DateRangeSlider(
        name='Date Range Slider',
        start=data[date_col].min(), 
        end=data[date_col].max(),
        value=(data[date_col].max() - timedelta(hours=1), 
               data[date_col].max()
               )   # defualt value for slider
)&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Line-Plot-&amp;amp;-Panel's-Glue"&gt;Line Plot &amp;amp; Panel's Glue&lt;a class="anchor-link" href="#Line-Plot-&amp;amp;-Panel's-Glue"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Now let's look at the Line plot code:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;import holoviews.plotting.bokeh&lt;br&gt;
import hvplot.pandas&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;These define that &lt;a href="https://bokeh.org/"&gt;bokeh&lt;/a&gt; will be the visualization engine for hvplot, in addition to allowing for hvplot to use directly Panda's dataframes as the datasources for the plots.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;@pn.depends(date_range_slider.param.value)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The Panel decorator causes the &lt;em&gt;line plot&lt;/em&gt; to vary - based on the value that is changed from the &lt;code&gt;date_range_slider&lt;/code&gt; widget.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;start_date = date_range[0], end_date = date_range[1]&lt;br&gt;
mask = (crime_data[date_col] &amp;gt; start_date) &amp;amp; (crime_data[date_col] &amp;lt;= end_date)&lt;br&gt;
data = crime_data.loc[mask]&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In order to filter the dataframe we are masking the data based on the current values from the &lt;code&gt;date_range_slider&lt;/code&gt; widget.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;crime_data.hvplot.line&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is the basic call for a  [line plot] to be rendered from the Panda's dataframe.&lt;/p&gt;
&lt;p&gt;The &lt;a href="https://hvplot.holoviz.org/reference/pandas/scatter.html"&gt;scatter plot&lt;/a&gt; was added in order to display the value markers on the line plot&lt;/p&gt;
&lt;p&gt;Here is the full function:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;@pn.depends(date_range_slider.param.value)
def get_plot(date_range):
    data = dft
    start_date = date_range[0]
    end_date = date_range[1]
    mask = (data[date_col] &amp;gt; start_date) &amp;amp; (data[date_col] &amp;lt;= end_date)
    data = data.loc[mask]

    lines = data[cols + [date_col]].hvplot.line(
          x=date_col
        , y=cols
        , value_label= 'value'  
        , legend='right'
        , height=400
        , width=800
        , muted_alpha=0
        , ylim=(-0.1, 0.1)  # This can be configured based on the pct change scale 
        , xlabel='time'
        , ylabel='% change'
    )   
    scatter = data[cols + [date_col]].hvplot.scatter(
                x=date_col,
                y= cols,

    )
    return lines.opts(axiswise=True) * scatter&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Final-function"&gt;Final function&lt;a class="anchor-link" href="#Final-function"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Now we can create a functions that connects the different widgets&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;def get_dashboard(dft, cols, date_col):
    date_range_slider = pn.widgets.DateRangeSlider(
        name='Date Range Slider',
        start=data[date_col].min(), end=data[date_col].max(),
        value=(data[date_col].max() - timedelta(hours=4), data[date_col].max(),)
    )
    @pn.depends(date_range_slider.param.value)
    def get_plot(date_range):
        data = dft
        start_date = date_range[0]
        end_date = date_range[1]
        mask = (data[date_col] &amp;gt; start_date) &amp;amp; (data[date_col] &amp;lt;= end_date)
        data = data.loc[mask]

        lines = data[cols + [date_col]].hvplot.line(
              x=date_col
            , y=cols
            , value_label= 'value'  
            , legend='bottom_right'
            , height=400
            , width=800
            , muted_alpha=0
            , ylim=(-0.1, 0.1)  # This can be configured based on the pct change scale 
            , xlabel='time'
            , ylabel='% change'
        )   
        scatter = data[cols + [date_col]].hvplot.scatter(
                    x=date_col,
                    y= cols,

        )
        return lines.opts(axiswise=True) * scatter
    return get_plot, date_range_slider&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Desgin-the-Dashboard"&gt;Desgin the Dashboard&lt;a class="anchor-link" href="#Desgin-the-Dashboard"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Panel has a simple method to aggregating all the widgets together using rows and columns (like a simple HTML table).&lt;/p&gt;
&lt;p&gt;&lt;img src="images/panel_layout.png" alt="panel layout" width="450"&gt;&lt;/p&gt;
&lt;p&gt;Below is the code to design the layout&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;plot, date_range_slider = get_dashboard(data, cols, 'date')
dashboard=pn.Row(
    pn.Column(
        pn.pane.Markdown(''' ## Dataset Percent Change'''),
        plot,
        date_range_slider,

#         pn.widgets.DataFrame(data.set_index('date'), )
    ),

)
dashboard&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Conclusion"&gt;Conclusion&lt;a class="anchor-link" href="#Conclusion"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;In this blog post we have outlined our solution for monitoring our Dagster's Assets that we log during our data pipeline workflow.&lt;br&gt;
Using the Panel / hvplot libraries was quite straightforward. The documentation and reference galleries were very useful, although getting the linkage between some widget actions may require a bit of JS. Working with the examples, as in the last section in the &lt;a href="https://panel.holoviz.org/getting_started/index.html"&gt;getting started documentation&lt;/a&gt;, in addition to the more advance examples, show the potential for an extended elaborate dashboard if required.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
 


&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        " linebreaks: { automatic: true, width: '95% container' }, " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;
</content><category term="posts"></category><category term="python dataviz"></category></entry><entry><title>Implementing a graph network pipeline with Dagster</title><link href="https://sephib.github.io/Dagster-neo4j.html" rel="alternate"></link><published>2020-07-09T20:00:00+03:00</published><updated>2020-07-09T20:00:00+03:00</updated><author><name>Sephi Berry David Katz</name></author><id>tag:sephib.github.io,2020-07-09:/Dagster-neo4j.html</id><summary type="html">&lt;p&gt;How to created a graph (nodes and edges) from separate data sources and import them into Neo4j&lt;/p&gt;</summary><content type="html">&lt;style type="text/css"&gt;/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI escape sequences */
/* The color values are a mix of
   http://www.xcolors.net/dl/baskerville-ivorylight and
   http://www.xcolors.net/dl/euphrasia */
.ansi-black-fg {
  color: #3E424D;
}
.ansi-black-bg {
  background-color: #3E424D;
}
.ansi-black-intense-fg {
  color: #282C36;
}
.ansi-black-intense-bg {
  background-color: #282C36;
}
.ansi-red-fg {
  color: #E75C58;
}
.ansi-red-bg {
  background-color: #E75C58;
}
.ansi-red-intense-fg {
  color: #B22B31;
}
.ansi-red-intense-bg {
  background-color: #B22B31;
}
.ansi-green-fg {
  color: #00A250;
}
.ansi-green-bg {
  background-color: #00A250;
}
.ansi-green-intense-fg {
  color: #007427;
}
.ansi-green-intense-bg {
  background-color: #007427;
}
.ansi-yellow-fg {
  color: #DDB62B;
}
.ansi-yellow-bg {
  background-color: #DDB62B;
}
.ansi-yellow-intense-fg {
  color: #B27D12;
}
.ansi-yellow-intense-bg {
  background-color: #B27D12;
}
.ansi-blue-fg {
  color: #208FFB;
}
.ansi-blue-bg {
  background-color: #208FFB;
}
.ansi-blue-intense-fg {
  color: #0065CA;
}
.ansi-blue-intense-bg {
  background-color: #0065CA;
}
.ansi-magenta-fg {
  color: #D160C4;
}
.ansi-magenta-bg {
  background-color: #D160C4;
}
.ansi-magenta-intense-fg {
  color: #A03196;
}
.ansi-magenta-intense-bg {
  background-color: #A03196;
}
.ansi-cyan-fg {
  color: #60C6C8;
}
.ansi-cyan-bg {
  background-color: #60C6C8;
}
.ansi-cyan-intense-fg {
  color: #258F8F;
}
.ansi-cyan-intense-bg {
  background-color: #258F8F;
}
.ansi-white-fg {
  color: #C5C1B4;
}
.ansi-white-bg {
  background-color: #C5C1B4;
}
.ansi-white-intense-fg {
  color: #A1A6B2;
}
.ansi-white-intense-bg {
  background-color: #A1A6B2;
}
.ansi-default-inverse-fg {
  color: #FFFFFF;
}
.ansi-default-inverse-bg {
  background-color: #000000;
}
.ansi-bold {
  font-weight: bold;
}
.ansi-underline {
  text-decoration: underline;
}
/* The following styles are deprecated an will be removed in a future version */
.ansibold {
  font-weight: bold;
}
.ansi-inverse {
  outline: 0.5px dotted;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  position: relative;
  overflow: visible;
}
div.cell:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: transparent;
}
div.cell.jupyter-soft-selected {
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected,
div.cell.selected.jupyter-soft-selected {
  border-color: #ababab;
}
div.cell.selected:before,
div.cell.selected.jupyter-soft-selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #42A5F5;
}
@media print {
  div.cell.selected,
  div.cell.selected.jupyter-soft-selected {
    border-color: transparent;
  }
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
}
.edit_mode div.cell.selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #66BB6A;
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell &gt; div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area &gt; div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area &gt; div.highlight &gt; pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the &lt;head&gt; if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  /* Note that this should set vertical padding only, since CodeMirror assumes
       that horizontal padding will be set on CodeMirror pre */
  padding: 0.4em 0;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. This sets horizontal padding only,
    use .CodeMirror-lines for vertical */
  padding: 0 0.4em;
  border: 0;
  border-radius: 0;
}
.CodeMirror-cursor {
  border-left: 1.4px solid black;
}
@media screen and (min-width: 2138px) and (max-width: 4319px) {
  .CodeMirror-cursor {
    border-left: 2px solid black;
  }
}
@media screen and (min-width: 4320px) {
  .CodeMirror-cursor {
    border-left: 4px solid black;
  }
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev &lt;Maniac@SoftwareManiacs.Org&gt;
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
div.output_area .mglyph &gt; img {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 1px 0 1px 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}
.rendered_html ul:not(.list-inline),
.rendered_html ol:not(.list-inline) {
  padding-left: 2em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}





.rendered_html pre,




.rendered_html tr,
.rendered_html th,


.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,


.rendered_html * + .alert {
  margin-top: 1em;
}
[dir="rtl"] 
div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell &gt; div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.rendered .rendered_html tr,
.text_cell.rendered .rendered_html th,
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.text_cell .dropzone .input_area {
  border: 2px dashed #bababa;
  margin: -1px;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
&lt;/style&gt;
&lt;style type="text/css"&gt;pre { line-height: 125%; }
td.linenos pre { color: #000000; background-color: #f0f0f0; padding-left: 5px; padding-right: 5px; }
span.linenos { color: #000000; background-color: #f0f0f0; padding-left: 5px; padding-right: 5px; }
td.linenos pre.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
 .highlight pre  .hll { background-color: #ffffcc }
 .highlight pre  { background: #f8f8f8; }
 .highlight pre  .c { color: #408080; font-style: italic } /* Comment */
 .highlight pre  .err { border: 1px solid #FF0000 } /* Error */
 .highlight pre  .k { color: #008000; font-weight: bold } /* Keyword */
 .highlight pre  .o { color: #666666 } /* Operator */
 .highlight pre  .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
 .highlight pre  .cm { color: #408080; font-style: italic } /* Comment.Multiline */
 .highlight pre  .cp { color: #BC7A00 } /* Comment.Preproc */
 .highlight pre  .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
 .highlight pre  .c1 { color: #408080; font-style: italic } /* Comment.Single */
 .highlight pre  .cs { color: #408080; font-style: italic } /* Comment.Special */
 .highlight pre  .gd { color: #A00000 } /* Generic.Deleted */
 .highlight pre  .ge { font-style: italic } /* Generic.Emph */
 .highlight pre  .gr { color: #FF0000 } /* Generic.Error */
 .highlight pre  .gh { color: #000080; font-weight: bold } /* Generic.Heading */
 .highlight pre  .gi { color: #00A000 } /* Generic.Inserted */
 .highlight pre  .go { color: #888888 } /* Generic.Output */
 .highlight pre  .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
 .highlight pre  .gs { font-weight: bold } /* Generic.Strong */
 .highlight pre  .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
 .highlight pre  .gt { color: #0044DD } /* Generic.Traceback */
 .highlight pre  .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
 .highlight pre  .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
 .highlight pre  .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
 .highlight pre  .kp { color: #008000 } /* Keyword.Pseudo */
 .highlight pre  .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
 .highlight pre  .kt { color: #B00040 } /* Keyword.Type */
 .highlight pre  .m { color: #666666 } /* Literal.Number */
 .highlight pre  .s { color: #BA2121 } /* Literal.String */
 .highlight pre  .na { color: #7D9029 } /* Name.Attribute */
 .highlight pre  .nb { color: #008000 } /* Name.Builtin */
 .highlight pre  .nc { color: #0000FF; font-weight: bold } /* Name.Class */
 .highlight pre  .no { color: #880000 } /* Name.Constant */
 .highlight pre  .nd { color: #AA22FF } /* Name.Decorator */
 .highlight pre  .ni { color: #999999; font-weight: bold } /* Name.Entity */
 .highlight pre  .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
 .highlight pre  .nf { color: #0000FF } /* Name.Function */
 .highlight pre  .nl { color: #A0A000 } /* Name.Label */
 .highlight pre  .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
 .highlight pre  .nt { color: #008000; font-weight: bold } /* Name.Tag */
 .highlight pre  .nv { color: #19177C } /* Name.Variable */
 .highlight pre  .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
 .highlight pre  .w { color: #bbbbbb } /* Text.Whitespace */
 .highlight pre  .mb { color: #666666 } /* Literal.Number.Bin */
 .highlight pre  .mf { color: #666666 } /* Literal.Number.Float */
 .highlight pre  .mh { color: #666666 } /* Literal.Number.Hex */
 .highlight pre  .mi { color: #666666 } /* Literal.Number.Integer */
 .highlight pre  .mo { color: #666666 } /* Literal.Number.Oct */
 .highlight pre  .sa { color: #BA2121 } /* Literal.String.Affix */
 .highlight pre  .sb { color: #BA2121 } /* Literal.String.Backtick */
 .highlight pre  .sc { color: #BA2121 } /* Literal.String.Char */
 .highlight pre  .dl { color: #BA2121 } /* Literal.String.Delimiter */
 .highlight pre  .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
 .highlight pre  .s2 { color: #BA2121 } /* Literal.String.Double */
 .highlight pre  .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
 .highlight pre  .sh { color: #BA2121 } /* Literal.String.Heredoc */
 .highlight pre  .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
 .highlight pre  .sx { color: #008000 } /* Literal.String.Other */
 .highlight pre  .sr { color: #BB6688 } /* Literal.String.Regex */
 .highlight pre  .s1 { color: #BA2121 } /* Literal.String.Single */
 .highlight pre  .ss { color: #19177C } /* Literal.String.Symbol */
 .highlight pre  .bp { color: #008000 } /* Name.Builtin.Pseudo */
 .highlight pre  .fm { color: #0000FF } /* Name.Function.Magic */
 .highlight pre  .vc { color: #19177C } /* Name.Variable.Class */
 .highlight pre  .vg { color: #19177C } /* Name.Variable.Global */
 .highlight pre  .vi { color: #19177C } /* Name.Variable.Instance */
 .highlight pre  .vm { color: #19177C } /* Name.Variable.Magic */
 .highlight pre  .il { color: #666666 } /* Literal.Number.Integer.Long */&lt;/style&gt;&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h1 id="Implementing-a-graph-network-pipeline-with-Dagster"&gt;Implementing a graph network pipeline with Dagster&lt;a class="anchor-link" href="#Implementing-a-graph-network-pipeline-with-Dagster"&gt;&amp;#182;&lt;/a&gt;&lt;/h1&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;img src="images/postBanner.png" alt="Post Banner" width="650" &gt;&lt;/p&gt;
&lt;h2 id="Background"&gt;Background&lt;a class="anchor-link" href="#Background"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Working in the Intelligence arena we try to 'connect the dots' to extract meaningful information from data.&lt;/li&gt;
&lt;li&gt;We analyze various datasets to link between them in a logical manner.&lt;/li&gt;
&lt;li&gt;This is useful in many different projects - so we needed to build a pipeline that can be both dynamic and robust, and be readily and easily  utilized.&lt;/li&gt;
&lt;li&gt;In this blog post we share our experience in running one of our data pipelines with  &lt;a href="https://docs.dagster.io/"&gt;dagster&lt;/a&gt; - which uses a modern approach (compared to the traditional Airflow / Luigi task managers), see &lt;a href="https://docs.dagster.io/docs/learn"&gt;Dagster's website description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;We hope this blog post will help others to adopt such a data-pipeline and allow them to learn from our experiences.  &lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Our-Challenge"&gt;Our Challenge&lt;a class="anchor-link" href="#Our-Challenge"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;h4 id="Connecting-the-dots"&gt;Connecting the dots&lt;a class="anchor-link" href="#Connecting-the-dots"&gt;&amp;#182;&lt;/a&gt;&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;Finding relationships between different entities can be challenging (especially across datasets) - but is vital when building a reliable intelligent report.  &lt;/li&gt;
&lt;li&gt;A logical structure to store the entities and their relationships is in a &lt;a href="https://en.wikipedia.org/wiki/Graph_database"&gt;Graph Database&lt;/a&gt;. In this example we are going to use &lt;a href="https://neo4j.com/"&gt;Neo4j&lt;/a&gt; DB for storing the graph.   &lt;/li&gt;
&lt;li&gt;Also we are going to use &lt;em&gt;psedo BigData&lt;/em&gt;. However the pipeline that we are presenting generates billions of relationships.  &lt;/li&gt;
&lt;li&gt;The outcome files of the pipeline will be in the format that will allow to use the dedicated &lt;a href="https://neo4j.com/docs/operations-manual/4.1/tools/import/"&gt;Neo4j tool for bulk import&lt;/a&gt;.   In the future we will do a separate blog post on our data analysis workflow with &lt;code&gt;Neo4j&lt;/code&gt;. &lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="First-take"&gt;First take&lt;a class="anchor-link" href="#First-take"&gt;&amp;#182;&lt;/a&gt;&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;Our initial version for our pipeline was based on custom code and configurations (YAML) files.       &lt;/li&gt;
&lt;li&gt;The code base is a combination of R and Python script that utilize Spark, Dask and HDFS.  &lt;/li&gt;
&lt;li&gt;A shell script aggregated all the scripts to run the entire workflow&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="Inspect-and-Adapt"&gt;Inspect and Adapt&lt;a class="anchor-link" href="#Inspect-and-Adapt"&gt;&amp;#182;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;After our initial alpha version we noticed that we had some problems that required our attention:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The pipeline was built horizontally (per process) and not vertically (per dataset) - leading to uncertainty and fragmented results  &lt;/li&gt;
&lt;li&gt;We needed to refactor our code in order to stabilize and verify the quality of the product.  &lt;/li&gt;
&lt;li&gt;Working with &lt;a href="www.dask.org"&gt;dask&lt;/a&gt; didn't solve all of our use-cases and so we needed to run some workloads on &lt;a href="https://spark.apache.org/"&gt;spark&lt;/a&gt;.  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;After checking several options we chose &lt;code&gt;dagster&lt;/code&gt; as our pipeline framework for numerous reasons - including:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Simplicity logic/framework  &lt;/li&gt;
&lt;li&gt;Modern architecture with data as a "first class citizen".  &lt;/li&gt;
&lt;li&gt;Open-source code base   &lt;/li&gt;
&lt;li&gt;The framework includes a modern UI for monitoring and communicating the workflow status  &lt;/li&gt;
&lt;li&gt;Pipeline supports data dependencies (and not function outputs)    &lt;/li&gt;
&lt;li&gt;Ability to log/monitor metrics   &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;It was fortunate that our configuration files allowed us to identify the various functions and abstract our business logic from the data transformation.&lt;/p&gt;
&lt;p&gt;*** This is a &lt;code&gt;dagster&lt;/code&gt; &lt;em&gt;intermediate level&lt;/em&gt; blog post - for newbees it is recommended to run through the &lt;a href="https://docs.dagster.io/docs/tutorial"&gt;beginner tutorial&lt;/a&gt; on the dagster's site.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Understanding-Dagster-lego-blocks"&gt;Understanding &lt;code&gt;Dagster&lt;/code&gt; &lt;strong&gt;lego&lt;/strong&gt; blocks&lt;a class="anchor-link" href="#Understanding-Dagster-lego-blocks"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Before we start, here's a short introduction to Dagster's &lt;em&gt;&lt;em&gt;lego&lt;/em&gt;&lt;/em&gt; building blocks &lt;a href="https://docs.dagster.io/docs/learn/concepts"&gt;see dagster documentation&lt;/a&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;At the core we have &lt;code&gt;solids&lt;/code&gt; - these are the various "functional unit of computation that consumes and produces data assets".  &lt;/li&gt;
&lt;li&gt;The &lt;code&gt;solids&lt;/code&gt; can be aggregated into &lt;code&gt;composite solids&lt;/code&gt;.   &lt;/li&gt;
&lt;li&gt;A &lt;code&gt;solid&lt;/code&gt; can have &lt;strong&gt;inputs&lt;/strong&gt; and &lt;strong&gt;outputs&lt;/strong&gt; that can be passed along the pipeline.  &lt;/li&gt;
&lt;li&gt;A &lt;code&gt;pipeline&lt;/code&gt; orchestrates the various &lt;code&gt;solids&lt;/code&gt; and the data flows.   &lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="Design-implementation"&gt;Design implementation&lt;a class="anchor-link" href="#Design-implementation"&gt;&amp;#182;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;The following diagram displays the architecture  outline of the code:&lt;br&gt;
&lt;img src="images/architecture_diagram.png" alt="entity model" width="650" &gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;YAML configurations&lt;br&gt;
&lt;code&gt;Dagster&lt;/code&gt; has many configuration files that assist in managing pipelines and there environments. In this example we will use only 2 configuration types:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;resources - configuration file that manges the resources for the running pipeline  &lt;/li&gt;
&lt;li&gt;solids - configuration file for the &lt;code&gt;composite solids&lt;/code&gt;. Each data source has its own configuration, in addition to the composite solid that implements the creation of the Neo4j DB.  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Inputs&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Our premise is that the datasets inputs arrive in a timely manner (batch not streaming).  &lt;/li&gt;
&lt;li&gt;Each dataset source has a corresponding configuration file.  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Pipeline&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;code&gt;pipeline&lt;/code&gt; consists of all the &lt;code&gt;composite solids&lt;/code&gt; that organize the work that needs to be executed within each &lt;code&gt;solid&lt;/code&gt;.    &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Output Files&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In our example the outputs are:&lt;ul&gt;
&lt;li&gt;Nodes and Edges flat files in the format to be bulk imported into Neo4j&lt;/li&gt;
&lt;li&gt;Neo4j DB&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Let's-build"&gt;Let's build&lt;a class="anchor-link" href="#Let's-build"&gt;&amp;#182;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Now we will build our basic units needed for our project:&lt;br&gt;
Since we have several datasets we will can build each building block to be executed with a configuration file.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Read file into dataframe  (e.g. &lt;code&gt;cvs&lt;/code&gt; and &lt;code&gt;parquet&lt;/code&gt;)  &lt;/li&gt;
&lt;li&gt;Message our data to fit the schema that we want for our graph network (including: adding/drop columns,  rename_columns, concat columns etc.)   &lt;/li&gt;
&lt;li&gt;Generate nodes and edges  (per entity in the graph model)   &lt;/li&gt;
&lt;li&gt;Save nodes and edges into csv files  &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Finally we will bulk import the csv files (nodes and edges) into &lt;code&gt;Neo4j&lt;/code&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Data"&gt;Data&lt;a class="anchor-link" href="#Data"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;In order to demonstrate our workflow we will use data from &lt;a href="https://statsbomb.com/"&gt;&lt;img src="https://statsbomb.com/wp-content/themes/statsbomb-2019/images/statsbomb-logo.svg" alt="StatsBomb logo" width="100"/&gt;&lt;/a&gt;, a football analytics company that provides data from various leagues and competitions (for those American readers - we talking about the &lt;strong&gt;original&lt;/strong&gt; football - &lt;em&gt;&lt;em&gt;soccer&lt;/em&gt;&lt;/em&gt; ) . The company has a free open data API tier that can be accessed using the instructions on &lt;a href="https://github.com/statsbomb/statsbombpy#open-data"&gt;their git hub page&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;We would like to find the relationships between the players in 2  dimensions:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Team companionship  &lt;/li&gt;
&lt;li&gt;The number of passes between the players   &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;We will be building a graph based on the following entity model:&lt;/p&gt;
&lt;p&gt;&lt;img src="images/entity_model.png" alt="entity model" width="450" &gt;&lt;/p&gt;
&lt;p&gt;The &lt;a href="link to github"&gt;following script&lt;/a&gt; is available to download the data into 2 separate datasets:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Player lineup as csv  &lt;/li&gt;
&lt;li&gt;Player passes as parquet  &lt;/li&gt;
&lt;/ol&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Understanding-the-datasets"&gt;Understanding the datasets&lt;a class="anchor-link" href="#Understanding-the-datasets"&gt;&amp;#182;&lt;/a&gt;&lt;/h3&gt;&lt;h4 id="Player-Lineup"&gt;Player Lineup&lt;a class="anchor-link" href="#Player-Lineup"&gt;&amp;#182;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;This dataset has all the information regarding the players relationships with their teams. The key columns that we will use are:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;player_id&lt;/code&gt; -  identifies each &lt;code&gt;Player&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;team_id&lt;/code&gt; -  identifies each &lt;code&gt;Team&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;team_id&lt;/code&gt; &amp;amp; &lt;code&gt;match_id&lt;/code&gt; - will create our &lt;code&gt;EdgeID&lt;/code&gt; to identify when a &lt;code&gt;Player&lt;/code&gt; &lt;code&gt;PLAYED_TOGETHER&lt;/code&gt; with another &lt;code&gt;Player&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;The &lt;code&gt;Player&lt;/code&gt; &lt;code&gt;PLAYED_IN&lt;/code&gt; relationship can be immediately derived from the table.&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="Player-Event"&gt;Player Event&lt;a class="anchor-link" href="#Player-Event"&gt;&amp;#182;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;This dataset has all the information regarding the players action within a match. The key columns that we will use are:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;player_id&lt;/code&gt; - identifies each &lt;code&gt;Player&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pass_type&lt;/code&gt; - identifies the event in the match (we will select only the &lt;code&gt;pass&lt;/code&gt; event)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pass_recipient&lt;/code&gt; - will identify the recipient of the pass&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Additional properties will enrich the Nodes and Edges.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Let's--play--Lego"&gt;Let's  play  Lego&lt;a class="anchor-link" href="#Let's--play--Lego"&gt;&amp;#182;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Let's see how we can use the &lt;code&gt;dagster&lt;/code&gt;'s  blocks&lt;/p&gt;
&lt;p&gt;Since we are working with &lt;em&gt;BigData&lt;/em&gt; we will be working with &lt;code&gt;spark&lt;/code&gt; (we also implemented some of workflow on &lt;code&gt;Dask&lt;/code&gt; - but will keep this for a future post).&lt;br&gt;
We will need to tell &lt;code&gt;dagster&lt;/code&gt; what resources we are going to use. In dagster's environment everything is very module so we can define our resource with a YAML file &lt;a href="https://docs.dagster.io/docs/apidocs/pipeline#dagster.resource"&gt;see api resource documentation&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In our env_yaml folder we have the following &lt;code&gt;env_yaml/resources.yaml&lt;/code&gt; file:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;resources:  
    spark:  
      config:  
        spark_conf:  
          spark:  
            master: "local"&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Additional configuration for &lt;code&gt;spark&lt;/code&gt; can  be included under &lt;code&gt;spark_conf&lt;/code&gt;. For our workload we added for example the following parameters:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;spark.executor.memoryOverhead: "16G"
spark.driver.memory: "8G"&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Obviously for the example in this post there is no need to add any additional parameters.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Solid-Intro"&gt;Solid Intro&lt;a class="anchor-link" href="#Solid-Intro"&gt;&amp;#182;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Lets review a simple &lt;code&gt;solid&lt;/code&gt;  such as a &lt;code&gt;show&lt;/code&gt; function for a spark dataframe:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;@solid(
    config_schema={
        "num_rows": Field(
            Int, is_required=False, default_value=5, description=("Number of rows to display"),
        ),
    }
)
def show(context, df: DataFrame):
    num_rows = context.solid_config.get("num_rows")
    context.log.info(f"df.show():\n{df._jdf.showString(num_rows, 20, False)}")&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;@solid()&lt;/code&gt; decorator above the function converts the function into a &lt;code&gt;solid&lt;/code&gt; so dagster can utilize/ingest it.&lt;br&gt;
The &lt;a href="https://docs.dagster.io/docs/apidocs/solids"&gt;solid decorator&lt;/a&gt;  can take several parameters. In this &lt;code&gt;solid&lt;/code&gt; we are just using&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="&amp;quot;https://docs.dagster.io/docs/apidocs/config#dagster.ConfigSchema&amp;quot;"&gt;config_schema&lt;/a&gt; which consists of:  &lt;ul&gt;
&lt;li&gt;&lt;a href="&amp;quot;https://docs.dagster.io/docs/apidocs/config#dagster.Field&amp;quot;"&gt;Field&lt;/a&gt; "num_rows" which will determine the number of rows to print out with the following properties:  &lt;ul&gt;
&lt;li&gt;&lt;code&gt;Int&lt;/code&gt; type (see list of available &lt;a href="https://docs.dagster.io/docs/apidocs/types"&gt;types&lt;/a&gt;) .  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;is_required&lt;/code&gt; (boolean) determines if this parameter is is_required  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;default_value&lt;/code&gt; for the number of rows to show   &lt;/li&gt;
&lt;li&gt;&lt;code&gt;description&lt;/code&gt; of the Field parameter.  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The config_schema assists in checking the validity of our pipeline.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;def show(context, df: DataFrame):&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Our function receives the &lt;a href="&amp;quot;https://docs.dagster.io/docs/apidocs/execution#dagster.Context&amp;quot;"&gt;context&lt;/a&gt; of the solid (supplementing the function with some additional inputs), in addition to a parameter that it will receive from the pipeline (which is a DataFrame).&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;num_rows = context.solid_config.get("num_rows")&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;When the function is executed we get the &lt;code&gt;num_rows&lt;/code&gt; parameter&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;context.log.info(f"df.show():\n{df._jdf.showString(num_rows, 20, False)}")&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Then we are using the &lt;a href="&amp;quot;https://docs.dagster.io/docs/apidocs/internals#dagster.DagsterLogManager&amp;quot;"&gt;internal dagster logging&lt;/a&gt; to print out the number of rows of the Dataframe.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Solid--Cont."&gt;Solid  Cont.&lt;a class="anchor-link" href="#Solid--Cont."&gt;&amp;#182;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Now lets delve deeper into a more complex &lt;code&gt;solid&lt;/code&gt; such as &lt;code&gt;read_file&lt;/code&gt; :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;@solid(
    output_defs=[OutputDefinition(dagster_type=DataFrame, name="df")],
    required_resource_keys={"spark"},
    config_schema={
        "path": Field(
            Any,
            is_required=True,
            description=(
                "String or a list of string for file-system backed data sources."
            ),
        ),
        "dtype": Field(
            list,
            is_required=False,
            description='Dictionary with column types e.g. {"col_name": "string"}.',
        ),
        "format": Field(
            String,
            default_value="csv",
            is_required=False,
            description='String for format of the data source. Default to "parquet".',
        ),
        "options": Field(
            Permissive(
                fields={
                    "inferSchema": Field(Bool, is_required=False),
                    "sep": Field(String, is_required=False),
                    "header": Field(Bool, is_required=False),
                    "encoding": Field(String, is_required=False),
                }
            ),
            is_required=False,
        ),
    },
)
def read_file(context) -&amp;gt; DataFrame:
    path = context.solid_config["path"]
    dtype = context.solid_config.get("dtype")
    _format = context.solid_config.get("format")
    options = context.solid_config.get("options", {})
    context.log.debug(
        f"read_file: path={path}, dtype={dtype}, _format={_format}, options={options}, "
    )
    spark = context.resources.spark.spark_session
    if dtype:
        df = (
            spark.read.format(_format)
            .options(**options)
            .schema(transform.create_schema(dtype))
            .load(path)
        )
    else:
        df = spark.read.format(_format).options(**options).load(path)

    yield Output(df, "df")&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Lets now break it down&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="solid-decorator"&gt;&lt;code&gt;solid&lt;/code&gt; decorator&lt;a class="anchor-link" href="#solid-decorator"&gt;&amp;#182;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;In this &lt;a href="https://docs.dagster.io/docs/apidocs/solids#dagster.SolidDefinition"&gt;&lt;code&gt;solid&lt;/code&gt; decorator&lt;/a&gt; we have some additional parameters:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;output_defs=[OutputDefinition(dagster_type=DataFrame, name="df")],&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;output_defs defines a list of &lt;a href="https://docs.dagster.io/docs/apidocs/solids#dagster.OutputDefinition"&gt;OutputDefinition&lt;/a&gt; of the &lt;code&gt;solid&lt;/code&gt;.  In our case the output will be a &lt;code&gt;dataframe&lt;/code&gt; that will be consumed by &lt;code&gt;solid&lt;/code&gt;s in the pipeline.  The &lt;code&gt;name&lt;/code&gt; of the object in the OutputDefinition can be consumed by other &lt;code&gt;solid&lt;/code&gt;s.   &lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;&lt;p&gt;required_resource_keys={"spark"}&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;a href="https://docs.dagster.io/docs/apidocs/solids#dagster.SolidDefinition"&gt;resources&lt;/a&gt; that the solid requires in order to execute.  &lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code&gt; config_schema={  
         "path": Field(  
        ...          
        "options": Field(  
            Permissive(   
                fields={  
                    "inferSchema": Field(Bool, is_required=False),  
                    "sep": Field(String, is_required=False),  
                    "header": Field(Bool, is_required=False),  
                    "encoding": Field(String, is_required=False),  
                }  
            ),  
            is_required=False,  
        ),&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="(&amp;quot;https://docs.dagster.io/docs/apidocs/config#dagster.ConfigSchema&amp;quot;"&gt;config_schema&lt;/a&gt;) - similar to the explanation above.   &lt;ul&gt;
&lt;li&gt;In this &lt;code&gt;solid&lt;/code&gt; we also have a &lt;code&gt;Permissive&lt;/code&gt; Field type as a dictionary that will take various option parameters for reading in file.  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="solid-in-actions"&gt;solid in actions&lt;a class="anchor-link" href="#solid-in-actions"&gt;&amp;#182;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;Now let's look what the &lt;code&gt;solid&lt;/code&gt; does.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;def read_file(context) -&amp;gt; DataFrame:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Every solid has a &lt;code&gt;context&lt;/code&gt; which is a collection of information provided by the system, such as the parameters provided within the &lt;code&gt;config_schema&lt;/code&gt;.  In this solid there is no additional parameter (compared to the above &lt;code&gt;show solid&lt;/code&gt; since this is the starting point of the pipeline)&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;path = context.solid_config.get("path")&lt;br&gt;
   dtype = context.solid_config.get("dtype")&lt;br&gt;
   _format = context.solid_config.get("format")&lt;br&gt;
   options = context.solid_config.get("options", {})&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In order to obtain the values from the &lt;code&gt;context&lt;/code&gt; we can use the &lt;code&gt;solid_config&lt;/code&gt; method&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;context.log.debug(f"read_file: path={path}, dtype={dtype}, _format={_format}, options={options}, ")&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Dagster comes with a &lt;a href="https://docs.dagster.io/docs/apidocs/pipeline#dagster.logger"&gt;build in logger&lt;/a&gt; that tracks all the events in the pipeline. In addition you are able to add any logs that you require.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;spark = context.resources.spark.spark_session&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Normally we would get the &lt;code&gt;spark_session&lt;/code&gt; from the importing &lt;a href="http://spark.apache.org/docs/latest/api/python/pyspark.sql.html#pyspark.sql.SparkSession"&gt;pyspark.sql.SparkSession&lt;/a&gt;, however since we already configured our &lt;code&gt;resources&lt;/code&gt; - we will get our session from the &lt;code&gt;context.resources&lt;/code&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    if dtype:
        df = (
            spark.read.format(_format)
            .options(**options)
            .schema(transform.create_schema(dtype))
            .load(path)
        )
    else:
        df = spark.read.format(_format).options(**options).load(path)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now that we have everything in place we can run the basic code to read in the data into spark.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;yield Output(df, "df")&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Finally the function yields an &lt;a href="https://docs.dagster.io/docs/apidocs/solids#dagster.Output"&gt;Output&lt;/a&gt; that can be consumed by the other solids in the pipeline.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Composite-Solids"&gt;Composite Solids&lt;a class="anchor-link" href="#Composite-Solids"&gt;&amp;#182;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;A single &lt;code&gt;solid&lt;/code&gt; executes a 
computation, however when wanting to create dependencies between solids we can use a &lt;a href="https://docs.dagster.io/docs/apidocs/solids#dagster.composite_solid"&gt;composite_solid&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Here is a screen shot of the &lt;code&gt;composite_solid&lt;/code&gt; from &lt;a href="https://docs.dagster.io/tutorial/execute#executing-our-first-pipeline"&gt;dagit&lt;/a&gt;&lt;br&gt;
&lt;img src="images/passed_to.png" alt="player_pass composite solid" width="250" &gt;&lt;/p&gt;
&lt;p&gt;Lets review the &lt;code&gt;player_pass&lt;/code&gt; composite_solid&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;@composite_solid(
    output_defs=(
        [
            OutputDefinition(name="df_edges", dagster_type=DataFrame),
            OutputDefinition(name="df_nodes", dagster_type=DataFrame),
        ]
    ),
)
def player_pass():
    df_edges_disc = solids_transform.lit.alias("add_col_label1")(
        solids_transform.lit.alias("add_col_label2")(
            solids_transform.rename_cols(
                solids_transform.drop_cols(
                    solids_transform.dropna(solids_fcutils.read_file())
                )
            )
        )
    )

    df_edges, df_nodes = solids_edges.edges_agg(df_edges_disc)
    solids_fcutils.save_header.alias("save_header_edges")(df_edges)
    return df_edges, df_nodes&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;The &lt;a href="https://docs.dagster.io/docs/apidocs/solids#dagster.composite_solid"&gt;@composite_solid&lt;/a&gt; is very similar to the &lt;a href="https://docs.dagster.io/docs/apidocs/solids#dagster.SolidDefinition"&gt;@solid&lt;/a&gt; decorator.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Here we can see how the solids are nested within each other.  Every &lt;code&gt;solid&lt;/code&gt; has an input of a &lt;code&gt;DataFrame&lt;/code&gt; (excpet for the &lt;code&gt;read_file&lt;/code&gt; solid).  An every solid has an &lt;code&gt;Output&lt;/code&gt; &lt;code&gt;DataFrame&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;alias&lt;/code&gt; allows to call the same &lt;code&gt;solid&lt;/code&gt; several time within a single &lt;a href="https://docs.dagster.io/docs/apidocs/solids#dagster.composite_solid"&gt;composite_solid&lt;/a&gt;.  &lt;/li&gt;
&lt;li&gt;A solid can return several outputs (which need to be defined in the solid decorator under the &lt;code&gt;OutputDefinition&lt;/code&gt; parameter )&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Pipeline"&gt;Pipeline&lt;a class="anchor-link" href="#Pipeline"&gt;&amp;#182;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Finally we can put everything together in our pipeline. A &lt;a href="https://docs.dagster.io/docs/apidocs/pipeline#dagster.pipeline"&gt;pipeline&lt;/a&gt; builds up a dependency graph between the solids/composite_solids.&lt;/p&gt;
&lt;p&gt;&lt;img src="images/pipeline.png" alt="pipeline" width="550" &gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;@pipeline(mode_defs=[ModeDefinition(resource_defs={"spark": pyspark_resource})])  
def statsbomb_pipeline():  
    player_pass_edges, player_pass_nodes = player_pass()  
    player_team_edges, player_team_nodes = player_team()  
    create_neo4j_db(dfs_nodes=[player_pass_nodes, player_team_nodes])&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In our pipeline, we have two &lt;code&gt;composite_solid&lt;/code&gt;s that output 2 &lt;code&gt;Dataframe&lt;/code&gt; objects.&lt;br&gt;
Our final &lt;code&gt;create_neo4j_db composite_solid&lt;/code&gt; is dependent on the output of the prior 2 &lt;code&gt;composite_solid&lt;/code&gt;s and executes a solid to generate the node files, in addition to execute a &lt;code&gt;neo4j-admin.bat&lt;/code&gt; script to bulk import that data into the database.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Into-Neo4j"&gt;Into Neo4j&lt;a class="anchor-link" href="#Into-Neo4j"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The results of the Pipeline can be imported into &lt;code&gt;neo4j&lt;/code&gt; .&lt;br&gt;
In order to import &lt;em&gt;bigData&lt;/em&gt; in an optimal manner we will use the &lt;a href="https://neo4j.com/docs/operations-manual/4.1/tools/import/"&gt;batch import&lt;/a&gt; admin tool.  This allows for loading tens of millions of nodes and billions of relationships  in the matter of hours.&lt;/p&gt;
&lt;p&gt;Here is some data for Liverpool's striker &lt;a href="https://en.wikipedia.org/wiki/Mohamed_Salah"&gt;Mohamed Salah&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;&lt;img src="images/graphMohamed_Salah.png" alt="graph Mohamed Salah" width="650" &gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Some-Tips"&gt;Some Tips&lt;a class="anchor-link" href="#Some-Tips"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Once we managed to &lt;em&gt;&lt;em&gt;grok&lt;/em&gt;&lt;/em&gt; our understanding of &lt;code&gt;dagster&lt;/code&gt; and wrap our pyspark functions, our workflow was quite productive.  Here are some tips to make your onboarding easier:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;When working with Spark:   &lt;ol&gt;
&lt;li&gt;Run a &lt;a href="https://spark.apache.org/docs/2.1.0/api/python/pyspark.sql.html#cache"&gt;cache&lt;/a&gt; when returning a &lt;code&gt;spark dataframe&lt;/code&gt; from a &lt;code&gt;solid&lt;/code&gt;. This will prevent running the &lt;code&gt;DAG&lt;/code&gt; in complex pipeline that has various outputs.   &lt;/li&gt;
&lt;li&gt;Since we had various checkpoints where we needed to dump our datasets, we found that when our &lt;code&gt;spark&lt;/code&gt; performed unexpectedly, braking up the pipeline by reading back the output file (instead of passing on the dataframe object) allowed spark to manage its resources in an optimal manner.&lt;/li&gt;
&lt;li&gt;Since our environment is on a CDH, the iteration of building a pipeline was enhanced when combining a &lt;code&gt;jupyter notebook&lt;/code&gt; that would implement each step in the &lt;code&gt;composite solid&lt;/code&gt;     &lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Dagster:  &lt;ol&gt;
&lt;li&gt;Remember to set &lt;a href="https://docs.dagster.io/overview/instances/dagster-instance"&gt;DAGSTER_HOME&lt;/a&gt; once you are becoming serious&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="What-else...."&gt;What else....&lt;a class="anchor-link" href="#What-else...."&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Dagster has several additional components that can upgrade the pipeline in a significant manner. These include, among others, &lt;a href="https://docs.dagster.io/docs/learn/guides/testing/testing"&gt;Test framework&lt;/a&gt;,  &lt;a href="https://docs.dagster.io/docs/apidocs/solids#dagster.Materialization"&gt;Materialization&lt;/a&gt; for persistent artifacts in the pipeline and  a  &lt;a href="https://docs.dagster.io/docs/apidocs/schedules#dagster.schedule"&gt;scheduler&lt;/a&gt;. Unfortunately thses topics are outside the scope of this post.&lt;/p&gt;
&lt;h2 id="Summary"&gt;Summary&lt;a class="anchor-link" href="#Summary"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;In this post we describe our workflow for generating a graph from separate data sources.&lt;br&gt;
As our project matured, we needed to stabilize our workflow, thus migrating our ad-hoc script scaffolds into &lt;code&gt;Dagster&lt;/code&gt;s framework.  In this process we were able to improve the quality of our pipeline and enable new data sources to quickly be integrated in our product in a frectioness manner.&lt;br&gt;
We hope that this post will inspire you to upgrade your workflow.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
 


&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        " linebreaks: { automatic: true, width: '95% container' }, " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;
</content><category term="posts"></category><category term="python neo4j dagster"></category></entry><entry><title>Warming up - My First Blog Post</title><link href="https://sephib.github.io/warming-up-my-first-blog-post.html" rel="alternate"></link><published>2020-07-08T00:00:00+03:00</published><updated>2020-07-08T00:00:00+03:00</updated><author><name>Sephi Berry</name></author><id>tag:sephib.github.io,2020-07-08:/warming-up-my-first-blog-post.html</id><summary type="html">&lt;h1&gt;Getting started with my online blogging&lt;/h1&gt;
&lt;p&gt;This is my first post on my new blog.&lt;br&gt;
I hope to be able to share my thoughts and knowledge in the various tech stacks that I'm involved in.&lt;/p&gt;
&lt;p&gt;I'm going run on Pelican (a python static web site generator). There are numerous resources &lt;/p&gt;</summary><content type="html">&lt;h1&gt;Getting started with my online blogging&lt;/h1&gt;
&lt;p&gt;This is my first post on my new blog.&lt;br&gt;
I hope to be able to share my thoughts and knowledge in the various tech stacks that I'm involved in.&lt;/p&gt;
&lt;p&gt;I'm going run on Pelican (a python static web site generator). There are numerous resources on the web - which may conflict with each other. Here is how I boiled it down (while hosting the site on github).  &lt;/p&gt;
&lt;p&gt;After setting up your environment (with the required installations)&lt;/p&gt;
&lt;h2&gt;Initial setup&lt;/h2&gt;
&lt;p&gt;After the setup (kickstart setup process)[https://docs.getpelican.com/en/stable/install.html#kickstart-your-site], follow the documentation on (Pelican tips)[https://docs.getpelican.com/en/latest/tips.html#user-pages] section to publish the blog as a &lt;code&gt;user page&lt;/code&gt;. Create a &lt;code&gt;dev branch&lt;/code&gt; to commit all the files while the blog itself will be published on the &lt;code&gt;main branch&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Edit the &lt;code&gt;pelicanconf.py&lt;/code&gt; and &lt;code&gt;publishconf.py&lt;/code&gt; as necessary (this will also depends on the &lt;a href="http://www.pelicanthemes.com/"&gt;theme&lt;/a&gt; and &lt;a href="https://github.com/getpelican/pelican-plugins"&gt;plugin&lt;/a&gt; that you will be running with).  &lt;/p&gt;
&lt;h2&gt;Publish workflow&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Edit &amp;amp; save changes to file&lt;/li&gt;
&lt;li&gt;To view on local computer run &lt;code&gt;make html&lt;/code&gt; followed by &lt;code&gt;make serve&lt;/code&gt; &lt;/li&gt;
&lt;li&gt;Commit changes when necessary (on the &lt;code&gt;dev branch&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Finally when ready you can run &lt;code&gt;make publish&lt;/code&gt; &amp;amp; &lt;code&gt;make github&lt;/code&gt; to push the changes to the &lt;code&gt;github.io&lt;/code&gt; site&lt;/li&gt;
&lt;/ol&gt;</content><category term="posts"></category></entry></feed>